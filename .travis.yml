group: deprecated-2017Q4
sudo: required
services:
- docker
addons:
  apt:
    packages:
    - docker-ce
    - enchant
language: python
python:
- '3.5'
env:
  matrix:
    - TEST_PATTERN=tests/test_dcos_e2e/test_experiment.py::TestExperiment::test_1
    - TEST_PATTERN=tests/test_dcos_e2e/test_experiment.py::TestExperiment::test_2
    - TEST_PATTERN=tests/test_dcos_e2e/test_experiment.py::TestExperiment::test_3
    - TEST_PATTERN=tests/test_dcos_e2e/test_experiment.py::TestExperiment::test_4
    - TEST_PATTERN=tests/test_dcos_e2e/test_experiment.py::TestExperiment::test_5
before_install:
- echo $LICENSE_KEY_CONTENTS > /tmp/license-key.txt
- travis_retry pip install --upgrade pip setuptools codecov
install:
- travis_retry pip install --upgrade --editable .[dev]
cache: pip
before_script:
- travis_retry make pull-images
- travis_retry make EE_MASTER_ARTIFACT_URL=$EE_MASTER_ARTIFACT_URL download-artifacts
script:
- pytest -vvv -s "$TEST_PATTERN" --cov=src/dcos_e2e --cov=tests
after_success:
